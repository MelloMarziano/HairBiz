<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes y Análisis - HairBiz Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8b5cf6;
            --secondary-color: #a855f7;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --light-bg: #f8fafc;
            --dark-text: #1e293b;
            --light-text: #64748b;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark-text);
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .back-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-1px);
        }

        .page-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark-text);
            margin: 0;
        }

        .metrics-container {
            margin: 2rem 0;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .metric-card.primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
            color: white;
        }

        .metric-card.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .metric-card.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .metric-card.info {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .metric-label {
            font-size: 0.875rem;
            font-weight: 500;
            opacity: 0.9;
        }

        .metric-icon {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            opacity: 0.3;
        }

        .analysis-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .analysis-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .analysis-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .progress-bar {
            background: var(--border-color);
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .progress-success { background: var(--success-color); }
        .progress-warning { background: var(--warning-color); }
        .progress-primary { background: var(--primary-color); }

        .progress-text {
            font-size: 0.875rem;
            color: var(--light-text);
            display: flex;
            justify-content: space-between;
        }

        .products-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .table {
            margin: 0;
        }

        .table th {
            background: var(--light-bg);
            border: none;
            font-weight: 600;
            color: var(--dark-text);
            padding: 1rem;
        }

        .table td {
            border: none;
            padding: 1rem;
            vertical-align: middle;
        }

        .table tbody tr {
            border-bottom: 1px solid var(--border-color);
        }

        .table tbody tr:last-child {
            border-bottom: none;
        }

        .product-rank {
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .product-name {
            font-weight: 600;
            color: var(--dark-text);
        }

        .product-sales {
            font-weight: 600;
            color: var(--success-color);
        }

        .financial-summary {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .summary-item {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .summary-label {
            color: var(--light-text);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .summary-primary { color: var(--primary-color); }
        .summary-success { color: var(--success-color); }
        .summary-warning { color: var(--warning-color); }

        .period-selector {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .period-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            background: white;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--light-text);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .period-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        @media (max-width: 768px) {
            .metric-card {
                margin-bottom: 1rem;
            }
            
            .analysis-grid {
                grid-template-columns: 1fr;
            }
            
            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .page-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-auto">
                    <a href="index.html" class="back-btn">
                        <i class="fas fa-arrow-left"></i>
                        Volver
                    </a>
                </div>
                <div class="col">
                    <h1 class="page-title">Reportes y Análisis</h1>
                </div>
                <div class="col-auto">
                    <button class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-download"></i>
                        Exportar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Selector de Período -->
        <div class="period-selector">
            <button class="period-btn active">Este Mes</button>
            <button class="period-btn">Últimos 3 Meses</button>
            <button class="period-btn">Este Año</button>
            <button class="period-btn">Personalizado</button>
        </div>

        <!-- Métricas Principales -->
        <div class="metrics-container">
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="metric-card primary">
                        <i class="fas fa-dollar-sign metric-icon"></i>
                        <div class="metric-value">$1,840,000</div>
                        <div class="metric-label">Ventas Totales</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="metric-card success">
                        <i class="fas fa-chart-line metric-icon"></i>
                        <div class="metric-value">$950,000</div>
                        <div class="metric-label">Ganancia Neta</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="metric-card warning">
                        <i class="fas fa-shopping-cart metric-icon"></i>
                        <div class="metric-value">28</div>
                        <div class="metric-label">Pedidos</div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-3">
                    <div class="metric-card info">
                        <i class="fas fa-user-plus metric-icon"></i>
                        <div class="metric-value">6</div>
                        <div class="metric-label">Clientes Nuevos</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Análisis de Rendimiento -->
        <div class="analysis-container">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Análisis de Rendimiento
            </h2>

            <div class="analysis-grid">
                <div class="analysis-card">
                    <div class="analysis-title">
                        <i class="fas fa-trending-up text-success"></i>
                        Margen de Ganancia
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-success" style="width: 51.6%"></div>
                    </div>
                    <div class="progress-text">
                        <span>51.6%</span>
                        <span>vs mes anterior</span>
                    </div>
                </div>

                <div class="analysis-card">
                    <div class="analysis-title">
                        <i class="fas fa-box text-warning"></i>
                        ROI (Retorno de Inversión)
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-warning" style="width: 106.7%"></div>
                    </div>
                    <div class="progress-text">
                        <span>106.7%</span>
                        <span>Excelente rendimiento</span>
                    </div>
                </div>

                <div class="analysis-card">
                    <div class="analysis-title">
                        <i class="fas fa-users text-primary"></i>
                        Ticket Promedio
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-primary" style="width: 75%"></div>
                    </div>
                    <div class="progress-text">
                        <span>$65,714</span>
                        <span>Por cliente</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Productos Más Vendidos -->
        <div class="analysis-container">
            <h2 class="section-title">
                <i class="fas fa-trophy"></i>
                Productos Más Vendidos
            </h2>

            <div class="products-table" id="productosTable">
                <!-- Los productos más vendidos se cargarán dinámicamente desde Firebase -->
                <div class="text-center py-4">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Cargando...</span>
                    </div>
                    <p class="mt-3 text-muted">Cargando productos más vendidos...</p>
                </div>
            </div>
        </div>

        <!-- Resumen Financiero del Mes -->
        <div class="financial-summary">
            <h2 class="section-title">
                <i class="fas fa-calculator"></i>
                Resumen Financiero del Mes
            </h2>

            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-value summary-warning">$890,000</div>
                    <div class="summary-label">Inversión Total</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value summary-primary">$1,840,000</div>
                    <div class="summary-label">Ingresos Totales</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value summary-success">$950,000</div>
                    <div class="summary-label">Ganancia Neta</div>
                </div>
            </div>

            <div class="mt-3 text-center">
                <small class="text-muted">
                    Por cada peso invertido, obtienes <strong>$1.07</strong> en ganancia
                </small>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Firebase SDK -->
    <script type="module">
        // Importar Firebase
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js';
        import { getFirestore, collection, getDocs, query, orderBy, where } from 'https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js';

        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAVUmZ7t3xC3_Hz5mGM4IG3PcFUi6utxDQ",
            authDomain: "hairbiz-6262f.firebaseapp.com",
            projectId: "hairbiz-6262f",
            storageBucket: "hairbiz-6262f.firebasestorage.app",
            messagingSenderId: "1061804186635",
            appId: "1:1061804186635:web:7b904658deda5852577b0e"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Hacer funciones disponibles globalmente
        window.db = db;
        window.collection = collection;
        window.getDocs = getDocs;
        window.query = query;
        window.orderBy = orderBy;
        window.where = where;

        // Cargar datos al inicializar la página
        document.addEventListener('DOMContentLoaded', function() {
            cargarDatosReportes();
        });

        // Función para cargar datos de reportes desde Firebase
        async function cargarDatosReportes() {
            try {
                // Mostrar indicador de carga
                mostrarCargando();

                // Obtener pedidos
                const pedidosSnapshot = await getDocs(collection(db, 'pedidos'));
                const pedidos = [];
                pedidosSnapshot.forEach((doc) => {
                    pedidos.push({ id: doc.id, ...doc.data() });
                });

                // Obtener productos
                const productosSnapshot = await getDocs(collection(db, 'productos'));
                const productos = [];
                productosSnapshot.forEach((doc) => {
                    productos.push({ id: doc.id, ...doc.data() });
                });

                // Calcular métricas
                calcularMetricas(pedidos, productos);
                
                // Ocultar indicador de carga
                ocultarCargando();

            } catch (error) {
                console.error('Error al cargar datos de reportes: ', error);
                ocultarCargando();
                mostrarError();
            }
        }

        // Función para calcular métricas
        function calcularMetricas(pedidos, productos) {
            let ventasTotales = 0;
            let costoTotal = 0;
            let totalPedidos = pedidos.length;
            let clientesUnicos = new Set();

            // Calcular ventas totales y costos
            pedidos.forEach(pedido => {
                if (pedido.resumen && pedido.resumen.total) {
                    ventasTotales += parseFloat(pedido.resumen.total) || 0;
                }
                
                // Agregar cliente único
                if (pedido.cliente && pedido.cliente.nombre) {
                    clientesUnicos.add(pedido.cliente.nombre);
                }

                // Calcular costo basado en productos
                if (pedido.productos) {
                    pedido.productos.forEach(item => {
                        const producto = productos.find(p => p.id === item.id || p.nombre === item.nombre);
                        if (producto && producto.costo) {
                            costoTotal += (parseFloat(producto.costo) || 0) * (item.cantidad || 1);
                        }
                    });
                }
            });

            const gananciaNeta = ventasTotales - costoTotal;
            const clientesNuevos = clientesUnicos.size;

            // Actualizar métricas en la interfaz
            actualizarMetricasUI(ventasTotales, gananciaNeta, totalPedidos, clientesNuevos);
            
            // Calcular análisis de rendimiento
            calcularAnalisisRendimiento(ventasTotales, costoTotal, gananciaNeta);
            
            // Cargar productos más vendidos
            cargarProductosMasVendidos(pedidos, productos);
        }

        // Función para actualizar métricas en la UI
        function actualizarMetricasUI(ventas, ganancia, pedidos, clientes) {
            // Restaurar el HTML original de las métricas
            const metricsContainer = document.querySelector('.metrics-container');
            if (metricsContainer) {
                metricsContainer.innerHTML = `
                    <div class="row">
                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="metric-card primary">
                                <i class="fas fa-dollar-sign metric-icon"></i>
                                <div class="metric-value">$${ventas.toLocaleString()}</div>
                                <div class="metric-label">Ventas Totales</div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="metric-card success">
                                <i class="fas fa-chart-line metric-icon"></i>
                                <div class="metric-value">$${ganancia.toLocaleString()}</div>
                                <div class="metric-label">Ganancia Neta</div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="metric-card warning">
                                <i class="fas fa-shopping-cart metric-icon"></i>
                                <div class="metric-value">${pedidos}</div>
                                <div class="metric-label">Pedidos</div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="metric-card info">
                                <i class="fas fa-user-plus metric-icon"></i>
                                <div class="metric-value">${clientes}</div>
                                <div class="metric-label">Clientes Nuevos</div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Función para calcular análisis de rendimiento
        function calcularAnalisisRendimiento(ventas, costos, ganancia) {
            const margenGanancia = ventas > 0 ? (ganancia / ventas) * 100 : 0;
            const roi = costos > 0 ? (ganancia / costos) * 100 : 0;

            // Actualizar barras de progreso
            const progressBars = document.querySelectorAll('.progress-fill');
            if (progressBars[0]) {
                progressBars[0].style.width = `${Math.min(margenGanancia, 100)}%`;
                const progressText = progressBars[0].parentElement.nextElementSibling;
                if (progressText) {
                    progressText.querySelector('span').textContent = `${margenGanancia.toFixed(1)}%`;
                }
            }
            
            if (progressBars[1]) {
                progressBars[1].style.width = `${Math.min(roi, 100)}%`;
                const progressText = progressBars[1].parentElement.nextElementSibling;
                if (progressText) {
                    progressText.querySelector('span').textContent = `${roi.toFixed(1)}%`;
                }
            }

            // Actualizar resumen financiero
            actualizarResumenFinanciero(ventas, costos, ganancia);
        }

        // Función para actualizar resumen financiero
        function actualizarResumenFinanciero(ventas, costos, ganancia) {
            const summaryValues = document.querySelectorAll('.summary-value');
            if (summaryValues[0]) summaryValues[0].textContent = `$${costos.toLocaleString()}`;
            if (summaryValues[1]) summaryValues[1].textContent = `$${ventas.toLocaleString()}`;
            if (summaryValues[2]) summaryValues[2].textContent = `$${ganancia.toLocaleString()}`;
        }

        // Función para cargar productos más vendidos
        function cargarProductosMasVendidos(pedidos, productos) {
            try {
                // Contar productos vendidos
                const productosVendidos = {};
                
                pedidos.forEach(pedido => {
                    if (pedido.productos && Array.isArray(pedido.productos)) {
                        pedido.productos.forEach(item => {
                            const productoId = item.id || item.productoId;
                            const cantidad = parseInt(item.cantidad) || 1;
                            
                            if (productosVendidos[productoId]) {
                                productosVendidos[productoId].cantidad += cantidad;
                                productosVendidos[productoId].ingresos += (item.precio || 0) * cantidad;
                            } else {
                                productosVendidos[productoId] = {
                                    cantidad: cantidad,
                                    ingresos: (item.precio || 0) * cantidad,
                                    nombre: item.nombre || 'Producto sin nombre'
                                };
                            }
                        });
                    }
                });

                // Convertir a array y ordenar por cantidad vendida
                const productosArray = Object.entries(productosVendidos).map(([id, data]) => ({
                    id,
                    ...data
                })).sort((a, b) => b.cantidad - a.cantidad);

                // Mostrar solo los top 5
                const topProductos = productosArray.slice(0, 5);
                
                mostrarProductosMasVendidos(topProductos);
            } catch (error) {
                console.error('Error al cargar productos más vendidos:', error);
                mostrarErrorProductos();
            }
        }

        // Función para mostrar productos más vendidos en la tabla
        function mostrarProductosMasVendidos(productos) {
            const productosTable = document.getElementById('productosTable');
            
            if (productos.length === 0) {
                productosTable.innerHTML = `
                    <div class="text-center py-4">
                        <i class="fas fa-box-open text-muted fa-3x mb-3"></i>
                        <p class="text-muted">No hay productos vendidos aún</p>
                    </div>
                `;
                return;
            }

            let tableHTML = `
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Producto</th>
                            <th>Unidades Vendidas</th>
                            <th>Ingresos</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            productos.forEach((producto, index) => {
                tableHTML += `
                    <tr>
                        <td>
                            <div class="product-rank">${index + 1}</div>
                        </td>
                        <td>
                            <div class="product-name">${producto.nombre}</div>
                            <small class="text-muted">${producto.cantidad} unidades vendidas</small>
                        </td>
                        <td>${producto.cantidad}</td>
                        <td class="product-sales">$${producto.ingresos.toLocaleString()}</td>
                        <td><span class="badge bg-success">Activo</span></td>
                    </tr>
                `;
            });

            tableHTML += `
                    </tbody>
                </table>
            `;

            productosTable.innerHTML = tableHTML;
        }

        // Función para mostrar error en productos
        function mostrarErrorProductos() {
            const productosTable = document.getElementById('productosTable');
            productosTable.innerHTML = `
                <div class="text-center py-4">
                    <i class="fas fa-exclamation-triangle text-warning fa-2x mb-3"></i>
                    <p class="text-muted">Error al cargar productos más vendidos</p>
                </div>
            `;
        }

        // Función para mostrar indicador de carga
        function mostrarCargando() {
            const metricsContainer = document.querySelector('.metrics-container');
            if (metricsContainer) {
                metricsContainer.innerHTML = `
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                        <p class="mt-3 text-muted">Cargando datos de reportes...</p>
                    </div>
                `;
            }
        }

        // Función para ocultar indicador de carga
        function ocultarCargando() {
            // La función calcularMetricas ya actualiza el contenido
        }

        // Función para mostrar error
        function mostrarError() {
            const metricsContainer = document.querySelector('.metrics-container');
            if (metricsContainer) {
                metricsContainer.innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-exclamation-triangle text-warning fa-3x mb-3"></i>
                        <p class="text-muted">Error al cargar los datos de reportes</p>
                        <button class="btn btn-primary" onclick="location.reload()">Reintentar</button>
                    </div>
                `;
            }
        }

        // Hacer funciones disponibles globalmente
        window.cargarDatosReportes = cargarDatosReportes;
    </script>
    
    <script>
        // Funcionalidad para selector de período
        document.querySelectorAll('.period-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.period-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Recargar datos según el período seleccionado
                console.log('Período seleccionado:', this.textContent);
                cargarDatosReportes();
            });
        });

        // Animación de las barras de progreso al cargar la página
        window.addEventListener('load', function() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 500);
            });
        });

        // Funcionalidad para exportar reportes
        document.querySelector('.btn-outline-secondary').addEventListener('click', function() {
            alert('Funcionalidad de exportación - Próximamente disponible');
        });
    </script>
</body>
</html>